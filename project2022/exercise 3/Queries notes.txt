                                            Queries notes

* Important tables:

    ~ Movie (m_id,adult,budget,homepage,original_language,original_title,title,tagline,overview,popularity,release_date,revenue,runtime)
    ~ Gerne(id, category)
    ~ Keyword(k_id, keyword)
    ~ Cast_table(movie_id, cast_id, character, gender, person_id, name)
    ~ Movie_Gernes(movie_id, gerne_id)
    ~ Movie_Keywords(movie_id, keyword_id)
    ~ Ratings(user_id, movie_id,rating)

* Less-Important tables:

   
    ~ Collection(id, name)
    ~ Crew(movie_id, department, gender, person_id, job, name)
    ~ Movie_Collection(movie_id, collection_id)
    ~ Production(id, company)
    ~ Movie_Production(movie_id, pc_id)

* The Queries:

    ~ ονόματα ταινιών από συλλογές που έχουν μέγιστη βαθμολογία πάνω από 4 (GROUP BY Collection.name) 
    Π Collection.name,Movie.title, Ratings.rating[ 
        σ max.rating>4(Ratings X (
            σ Collection.id= Movie_Collection. collection_id (Collection  Χ  Movie_Collection) 
            AND σ Movie. m_id= Movie_Collection. movie_id (Movie X Movie_Collection)
        )]

    ~ κατηγορίες ταινιών οι οποίες έχουν μέση βαθμολογία των χρηστών είναι μετάξυ 3 και 5 
    Π Gerne. category, avg(Ratings.rating) [
        σ avg. rating between 3 and 5(Rating JOIN Movie_Gernes)
        AND σ Gerne.id=Movie_Gernes. gerne_id(Gerne X Movie )]

    ~ όνομα ταινιών και η διάρκεια τους που έχουν ως βασικό χαρακτηριστικό την comedy (outer join for runtime)
    Π Movie. title, Movie. runtime[
        σ Keyword.keyword="comedy" (Keyword JOIN Movie_Keywords)
        AND σ Movie.m_id= Movie_Keywords. movie_id(Movie X Movie_Keywords )]

    ~ όνομα των ταινιών και η μέρα πρεμιέρας ταινιών του ηθοποιού will smith (outer join)
    Π Movie. title, Movie. release_date[
        σ Crew.name="Will Smith" (
            Π Crew.job (
                σCrew.job="Actor") 
            JOIN Movie)]
        
    ~ κατάταξη των παραγωγών των εταιριών που έχουν δώσει ταινίες με μηδενικό budget (ORDER BY)
    Π Production.company, Movie. title[
        σ Movie.budget=0 (Movie JOIN Movie_Production)
        AND σ Production.id= Movie_Production. pc_id(Production X Movie_Production )]

    ~ ηθοποιοί και οι ρόλοι που έχουν παίξει σε ταινίες με keyword thriller
    Π Crew.name ,Cast_table.character [
        σ Keyword.keyword="thriller" (Keyword JOIN Movie_Keywords)
        AND σ Movie.m_id= Movie_Keywords. movie_id(Movie X Movie_Keywords )
        AND σ Crew.movie_id= Movie. m_id(Crew X Movie )
        AND σ Cast_table.movie_id= Movie. m_id(Cast_table X Movie )
        AND σ Cast_table.person_id= Crew. movie_id(Cast_table X Crew )
        AND σCrew.job="Actor"]

    ~ ταινιες που η βαθμολογια τους ειναι πανω απο τον μεσο ορο βαθμολογιων
    Π Movie.title, Ratings.rating[
        σ Ratings.rating>avg(Ratings.rating)
        AND σ Movie.m_id= Ratings.movie_id     
    ]
    ~ ηθοποιοι που επαναλαμβανονται σε ταινιες που ο μεσος ορος τους ειναι πανω απο τον (μεσο ορο) count ταινίων


    ~ ταινιες που το μεγαλυτερο πληθος των συντελεστων ανήκουν στο department Art 
Π Movie.title, Crew.department[
    σ Movie.m_id = Crew. movie_id
    AND (Π Count(person_id), Crew.department )  


SELECT DISTINCT Movie.title, Crew.department
FROM Crew AS x, Movie
WHERE Count (
    SELECT x.person_id
    FROM
    WHERE x.department= "Art"
) > ALL(
    SELECT Count(y.person_id)
    FROM Crew AS y
    WHERE x.movie_id = y.movie_id) 
AND x.movie_id = Movie.m_id

    ~ κριτικες σε ταινιες με εσοδα ανω του μεσου ορου εσοδων (εμφολευμένο select)
    Π Movie.title, Ratings.rating, Movie.revenue[
        σ Movie.revenue >avg(Movie.revenue)
        AND σ rating.movie_id= Movie.m_id
    ]
    ~ φυλα για τους ηθοποιους καθε ταινιας που εκανε revenue ανω των 2000000 (DIST)
    Π Cast_table.gender[
        σ Movie.revenue>2000000
        AND σ Movie.m_id=cast.movie_id
    ]
    ~ id ταίνιων με την κατηγορία που η γλωσσα ομιλιας δεν ειναι η αγγλικη
      Π Movie.m_id, Gerne.category[
        σ Movie.original_language<>"en"
        AND  σ Movie_Gernes.movie_id = Movie.m_id
        AND  σ Movie_Gernes.gerne_id = Gerne.id
    ] 
